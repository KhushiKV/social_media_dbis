{"ast":null,"code":"\"use strict\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/* eslint-disable class-methods-use-this */\n\n\nvar CACHE = Symbol.for(\"com.cloudinary.cache\");\nvar CACHE_ADAPTER = Symbol.for(\"com.cloudinary.cacheAdapter\");\n\nvar _require = require('./utils'),\n    ensurePresenceOf = _require.ensurePresenceOf,\n    generate_transformation_string = _require.generate_transformation_string;\n/**\n * The adapter used to communicate with the underlying cache storage\n */\n\n\nvar CacheAdapter = function () {\n  function CacheAdapter() {\n    _classCallCheck(this, CacheAdapter);\n  }\n\n  _createClass(CacheAdapter, [{\n    key: \"get\",\n\n    /**\n     * Get a value from the cache\n     * @param {string} publicId\n     * @param {string} type\n     * @param {string} resourceType\n     * @param {string} transformation\n     * @param {string} format\n     * @return {*} the value associated with the provided arguments\n     */\n    value: function get(publicId, type, resourceType, transformation, format) {}\n    /**\n     * Set a new value in the cache\n     * @param {string} publicId\n     * @param {string} type\n     * @param {string} resourceType\n     * @param {string} transformation\n     * @param {string} format\n     * @param {*} value\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(publicId, type, resourceType, transformation, format, value) {}\n    /**\n     * Delete all values in the cache\n     */\n\n  }, {\n    key: \"flushAll\",\n    value: function flushAll() {}\n  }]);\n\n  return CacheAdapter;\n}();\n/**\n * @class Cache\n * Stores and retrieves values identified by publicId / options pairs\n */\n\n\nvar Cache = {\n  /**\n   * The adapter interface. Extend this class to implement a specific adapter.\n   * @type CacheAdapter\n   */\n  CacheAdapter,\n\n  /**\n   * Set the cache adapter\n   * @param {CacheAdapter} adapter The cache adapter\n   */\n  setAdapter(adapter) {\n    if (this.adapter) {\n      console.warn(\"Overriding existing cache adapter\");\n    }\n\n    this.adapter = adapter;\n  },\n\n  /**\n   * Get the adapter the Cache is using\n   * @return {CacheAdapter} the current cache adapter\n   */\n  getAdapter() {\n    return this.adapter;\n  },\n\n  /**\n   * Get an item from the cache\n   * @param {string} publicId\n   * @param {object} options\n   * @return {*}\n   */\n  get(publicId, options) {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    ensurePresenceOf({\n      publicId\n    });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.get(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format);\n  },\n\n  /**\n   * Set a new value in the cache\n   * @param {string} publicId\n   * @param {object} options\n   * @param {*} value\n   * @return {*}\n   */\n  set(publicId, options, value) {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    ensurePresenceOf({\n      publicId,\n      value\n    });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.set(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format, value);\n  },\n\n  /**\n   * Clear all items in the cache\n   * @return {*} Returns the value from the adapter's flushAll() method\n   */\n  flushAll() {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    return this.adapter.flushAll();\n  }\n\n}; // Define singleton property\n\nObject.defineProperty(Cache, \"instance\", {\n  get() {\n    return global[CACHE];\n  }\n\n});\nObject.defineProperty(Cache, \"adapter\", {\n  /**\n   *\n   * @return {CacheAdapter} The current cache adapter\n   */\n  get() {\n    return global[CACHE_ADAPTER];\n  },\n\n  /**\n   * Set the cache adapter to be used by Cache\n   * @param {CacheAdapter} adapter Cache adapter\n   */\n  set(adapter) {\n    global[CACHE_ADAPTER] = adapter;\n  }\n\n});\nObject.freeze(Cache); // Instantiate the singleton\n\nvar symbols = Object.getOwnPropertySymbols(global);\n\nif (symbols.indexOf(CACHE) < 0) {\n  global[CACHE] = Cache;\n}\n/**\n * Store key value pairs\n\n */\n\n\nmodule.exports = Cache;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","CACHE","Symbol","for","CACHE_ADAPTER","_require","require","ensurePresenceOf","generate_transformation_string","CacheAdapter","value","get","publicId","type","resourceType","transformation","format","set","flushAll","Cache","setAdapter","adapter","console","warn","getAdapter","options","undefined","resource_type","global","freeze","symbols","getOwnPropertySymbols","indexOf","module","exports"],"sources":["/Users/abhinavkumar/Desktop/dbms/client/node_modules/cloudinary/lib-es5/cache.js"],"sourcesContent":["\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable class-methods-use-this */\n\nvar CACHE = Symbol.for(\"com.cloudinary.cache\");\nvar CACHE_ADAPTER = Symbol.for(\"com.cloudinary.cacheAdapter\");\n\nvar _require = require('./utils'),\n    ensurePresenceOf = _require.ensurePresenceOf,\n    generate_transformation_string = _require.generate_transformation_string;\n\n/**\n * The adapter used to communicate with the underlying cache storage\n */\n\n\nvar CacheAdapter = function () {\n  function CacheAdapter() {\n    _classCallCheck(this, CacheAdapter);\n  }\n\n  _createClass(CacheAdapter, [{\n    key: \"get\",\n\n    /**\n     * Get a value from the cache\n     * @param {string} publicId\n     * @param {string} type\n     * @param {string} resourceType\n     * @param {string} transformation\n     * @param {string} format\n     * @return {*} the value associated with the provided arguments\n     */\n    value: function get(publicId, type, resourceType, transformation, format) {}\n\n    /**\n     * Set a new value in the cache\n     * @param {string} publicId\n     * @param {string} type\n     * @param {string} resourceType\n     * @param {string} transformation\n     * @param {string} format\n     * @param {*} value\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(publicId, type, resourceType, transformation, format, value) {}\n\n    /**\n     * Delete all values in the cache\n     */\n\n  }, {\n    key: \"flushAll\",\n    value: function flushAll() {}\n  }]);\n\n  return CacheAdapter;\n}();\n/**\n * @class Cache\n * Stores and retrieves values identified by publicId / options pairs\n */\n\n\nvar Cache = {\n  /**\n   * The adapter interface. Extend this class to implement a specific adapter.\n   * @type CacheAdapter\n   */\n  CacheAdapter,\n  /**\n   * Set the cache adapter\n   * @param {CacheAdapter} adapter The cache adapter\n   */\n  setAdapter(adapter) {\n    if (this.adapter) {\n      console.warn(\"Overriding existing cache adapter\");\n    }\n    this.adapter = adapter;\n  },\n  /**\n   * Get the adapter the Cache is using\n   * @return {CacheAdapter} the current cache adapter\n   */\n  getAdapter() {\n    return this.adapter;\n  },\n  /**\n   * Get an item from the cache\n   * @param {string} publicId\n   * @param {object} options\n   * @return {*}\n   */\n  get(publicId, options) {\n    if (!this.adapter) {\n      return undefined;\n    }\n    ensurePresenceOf({ publicId });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.get(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format);\n  },\n  /**\n   * Set a new value in the cache\n   * @param {string} publicId\n   * @param {object} options\n   * @param {*} value\n   * @return {*}\n   */\n  set(publicId, options, value) {\n    if (!this.adapter) {\n      return undefined;\n    }\n    ensurePresenceOf({ publicId, value });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.set(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format, value);\n  },\n  /**\n   * Clear all items in the cache\n   * @return {*} Returns the value from the adapter's flushAll() method\n   */\n  flushAll() {\n    if (!this.adapter) {\n      return undefined;\n    }\n    return this.adapter.flushAll();\n  }\n\n};\n\n// Define singleton property\nObject.defineProperty(Cache, \"instance\", {\n  get() {\n    return global[CACHE];\n  }\n});\nObject.defineProperty(Cache, \"adapter\", {\n  /**\n   *\n   * @return {CacheAdapter} The current cache adapter\n   */\n  get() {\n    return global[CACHE_ADAPTER];\n  },\n  /**\n   * Set the cache adapter to be used by Cache\n   * @param {CacheAdapter} adapter Cache adapter\n   */\n  set(adapter) {\n    global[CACHE_ADAPTER] = adapter;\n  }\n});\nObject.freeze(Cache);\n\n// Instantiate the singleton\nvar symbols = Object.getOwnPropertySymbols(global);\nif (symbols.indexOf(CACHE) < 0) {\n  global[CACHE] = Cache;\n}\n\n/**\n * Store key value pairs\n\n */\nmodule.exports = Cache;"],"mappings":"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"},"metadata":{},"sourceType":"script"}