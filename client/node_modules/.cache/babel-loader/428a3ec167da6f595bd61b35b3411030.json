{"ast":null,"code":"var _jsxFileName = \"/Users/abhinavkumar/Desktop/dbms/client/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport Axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { AppContext } from \"../App\";\nimport Button from \"@mui/material/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Posts() {\n  _s();\n\n  const {\n    user\n  } = useContext(AppContext);\n  const [posts, setPosts] = useState([]);\n  const id = user.id;\n\n  const deletePost = postId => {\n    console.log(postId);\n    Axios.get(`http://localhost:3001/delete/post/${postId}`).then(response => {\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/posts/${id}`).then(response => {\n      setPosts(response.data);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.slice(0).reverse().map(post => /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: \"Quote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"blockquote\", {\n          className: \"blockquote mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: post.post_content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n            className: \"blockquote-footer\",\n            children: [\"Someone famous in\", \" \", /*#__PURE__*/_jsxDEV(\"cite\", {\n              title: \"Source Title\",\n              children: \"Source Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"error\",\n              onClick: deletePost.bind(this, post.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"success\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this))\n  }, void 0, false);\n}\n\n_s(Posts, \"4WNCxz+4P2TcM/gd08rAtk1EWA0=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["Axios","React","useContext","useEffect","useState","Card","AppContext","Button","Posts","user","posts","setPosts","id","deletePost","postId","console","log","get","then","response","catch","err","data","slice","reverse","map","post","post_content","bind"],"sources":["/Users/abhinavkumar/Desktop/dbms/client/src/components/Posts.js"],"sourcesContent":["import Axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { AppContext } from \"../App\";\nimport Button from \"@mui/material/Button\";\n\nfunction Posts() {\n  const { user } = useContext(AppContext);\n  const [posts, setPosts] = useState([]);\n  const id = user.id;\n  const deletePost = (postId) => {\n    console.log(postId);\n    Axios.get(`http://localhost:3001/delete/post/${postId}`)\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/posts/${id}`).then((response) => {\n      setPosts(response.data);\n    });\n  });\n\n  return (\n    <>\n      {posts\n        .slice(0)\n        .reverse()\n        .map((post) => (\n          <Card key={post.id}>\n            <Card.Header>Quote</Card.Header>\n            <Card.Body>\n              <blockquote className=\"blockquote mb-0\">\n                <p>{post.post_content}</p>\n                <footer className=\"blockquote-footer\">\n                  Someone famous in{\" \"}\n                  <cite title=\"Source Title\">Source Title</cite>\n                </footer>\n                <div>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"error\"\n                    onClick={deletePost.bind(this, post.id)}\n                  >\n                    Delete\n                  </Button>\n                  <Button variant=\"outlined\" color=\"success\">\n                    Edit\n                  </Button>\n                </div>\n              </blockquote>\n            </Card.Body>\n          </Card>\n        ))}\n    </>\n  );\n}\n\nexport default Posts;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,SAASC,UAAT,QAA2B,QAA3B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;;AAEA,SAASC,KAAT,GAAiB;EAAA;;EACf,MAAM;IAAEC;EAAF,IAAWP,UAAU,CAACI,UAAD,CAA3B;EACA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMQ,EAAE,GAAGH,IAAI,CAACG,EAAhB;;EACA,MAAMC,UAAU,GAAIC,MAAD,IAAY;IAC7BC,OAAO,CAACC,GAAR,CAAYF,MAAZ;IACAd,KAAK,CAACiB,GAAN,CAAW,qCAAoCH,MAAO,EAAtD,EACGI,IADH,CACSC,QAAD,IAAc;MAClBJ,OAAO,CAACC,GAAR,CAAYG,QAAZ;IACD,CAHH,EAIGC,KAJH,CAIUC,GAAD,IAAS;MACdN,OAAO,CAACC,GAAR,CAAYK,GAAZ;IACD,CANH;EAOD,CATD;;EAUAlB,SAAS,CAAC,MAAM;IACdH,KAAK,CAACiB,GAAN,CAAW,+BAA8BL,EAAG,EAA5C,EAA+CM,IAA/C,CAAqDC,QAAD,IAAc;MAChER,QAAQ,CAACQ,QAAQ,CAACG,IAAV,CAAR;IACD,CAFD;EAGD,CAJQ,CAAT;EAMA,oBACE;IAAA,UACGZ,KAAK,CACHa,KADF,CACQ,CADR,EAEEC,OAFF,GAGEC,GAHF,CAGOC,IAAD,iBACH,QAAC,IAAD;MAAA,wBACE,QAAC,IAAD,CAAM,MAAN;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,IAAD,CAAM,IAAN;QAAA,uBACE;UAAY,SAAS,EAAC,iBAAtB;UAAA,wBACE;YAAA,UAAIA,IAAI,CAACC;UAAT;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAQ,SAAS,EAAC,mBAAlB;YAAA,gCACoB,GADpB,eAEE;cAAM,KAAK,EAAC,cAAZ;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF,eAME;YAAA,wBACE,QAAC,MAAD;cACE,OAAO,EAAC,UADV;cAEE,KAAK,EAAC,OAFR;cAGE,OAAO,EAAEd,UAAU,CAACe,IAAX,CAAgB,IAAhB,EAAsBF,IAAI,CAACd,EAA3B,CAHX;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,eAQE,QAAC,MAAD;cAAQ,OAAO,EAAC,UAAhB;cAA2B,KAAK,EAAC,SAAjC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QARF;UAAA;YAAA;YAAA;YAAA;UAAA,QANF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA,GAAWc,IAAI,CAACd,EAAhB;MAAA;MAAA;MAAA;IAAA,QAJH;EADH,iBADF;AAiCD;;GArDQJ,K;;KAAAA,K;AAuDT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}