{"ast":null,"code":"var _jsxFileName = \"/Users/abhinavkumar/Desktop/dbms/client/src/components/InputPost.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport TextareaAutosize from \"@mui/material/TextareaAutosize\";\nimport { height } from \"@mui/system\";\nimport { useState } from \"react\";\nimport Axios from \"axios\";\nimport Button from \"./Button\";\nimport uuid from \"react-uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function InputPost() {\n  _s();\n\n  Axios.defaults.withCredentials = true;\n  const [image, setImage] = useState(\"\");\n  const [post, setPost] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n\n  const postHandler = e => {\n    setPost(e.target.value);\n  };\n\n  const imageHandler = e => {\n    setImage(e.target.files[0]);\n  };\n\n  let imgUrl = \"\";\n\n  const uploadImage = async image => {\n    const formData = new FormData();\n    console.log(image);\n    formData.append(\"file\", image);\n    formData.append(\"upload_preset\", \"g330on9r\");\n    formData.append(\"cloud_name\", \"abhi9av\"); // formData.append(\"public_id\", uniq);\n\n    await fetch(\"https://api.cloudinary.com/v1_1/abhi9av/image/upload\", {\n      method: \"post\",\n      body: formData\n    }).then(response => response.json()).then(async data => {\n      // imgUrl = data.secure_url;\n      // return data.secure_url;\n      imgUrl = data.secure_url;\n      setImageUrl(imgUrl); // console.log(imageUrl);\n\n      console.log(data.secure_url);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const savePost = async () => {\n    if (image !== \"\") {\n      await uploadImage(image);\n    }\n\n    console.log(imageUrl);\n    console.log(imgUrl);\n    await Axios.post(\"http://localhost:3001/post\", {\n      post_content: post,\n      post_img: imgUrl\n    }).then(response => {\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative text-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl\",\n        children: \"CREATE A POST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        maxRows: 10,\n        \"aria-label\": \"maximum height\",\n        placeholder: \"Maximum 10 rows\",\n        defaultValue: \"\",\n        style: {\n          width: 1000,\n          height: 200\n        },\n        onChange: postHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          class: \"block text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100 justify-center \",\n          onChange: imageHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        value: \"POST\",\n        variant: \"contained\",\n        color: \"success\",\n        onClick: savePost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(InputPost, \"zTw5gMfYH2hv7muI1/tvljg0u/k=\");\n\n_c = InputPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"InputPost\");","map":{"version":3,"names":["React","TextareaAutosize","height","useState","Axios","Button","uuid","InputPost","defaults","withCredentials","image","setImage","post","setPost","imageUrl","setImageUrl","postHandler","e","target","value","imageHandler","files","imgUrl","uploadImage","formData","FormData","console","log","append","fetch","method","body","then","response","json","data","secure_url","catch","err","savePost","post_content","post_img","width"],"sources":["/Users/abhinavkumar/Desktop/dbms/client/src/components/InputPost.js"],"sourcesContent":["import * as React from \"react\";\nimport TextareaAutosize from \"@mui/material/TextareaAutosize\";\nimport { height } from \"@mui/system\";\nimport { useState } from \"react\";\nimport Axios from \"axios\";\nimport Button from \"./Button\";\nimport uuid from \"react-uuid\";\n\nexport default function InputPost() {\n  Axios.defaults.withCredentials = true;\n  const [image, setImage] = useState(\"\");\n  const [post, setPost] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const postHandler = (e) => {\n    setPost(e.target.value);\n  };\n  const imageHandler = (e) => {\n    setImage(e.target.files[0]);\n  };\n  let imgUrl = \"\";\n\n  const uploadImage = async (image) => {\n    const formData = new FormData();\n    console.log(image);\n    formData.append(\"file\", image);\n    formData.append(\"upload_preset\", \"g330on9r\");\n    formData.append(\"cloud_name\", \"abhi9av\");\n    // formData.append(\"public_id\", uniq);\n\n    await fetch(\"https://api.cloudinary.com/v1_1/abhi9av/image/upload\", {\n      method: \"post\",\n      body: formData,\n    })\n      .then((response) => response.json())\n      .then(async (data) => {\n        // imgUrl = data.secure_url;\n        // return data.secure_url;\n\n        imgUrl = data.secure_url;\n        setImageUrl(imgUrl);\n        // console.log(imageUrl);\n        console.log(data.secure_url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const savePost = async () => {\n    if (image !== \"\") {\n      await uploadImage(image);\n    }\n    console.log(imageUrl);\n    console.log(imgUrl);\n    await Axios.post(\"http://localhost:3001/post\", {\n      post_content: post,\n      post_img: imgUrl,\n    })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"relative text-center justify-center\">\n        <h1 className=\"text-4xl\">CREATE A POST</h1>\n        <TextareaAutosize\n          maxRows={10}\n          aria-label=\"maximum height\"\n          placeholder=\"Maximum 10 rows\"\n          defaultValue=\"\"\n          style={{ width: 1000, height: 200 }}\n          onChange={postHandler}\n        />\n        <div>\n          <input\n            type=\"file\"\n            class=\"block text-sm text-slate-500\n      file:mr-4 file:py-2 file:px-4\n      file:rounded-full file:border-0\n      file:text-sm file:font-semibold\n      file:bg-violet-50 file:text-violet-700\n      hover:file:bg-violet-100 justify-center\n    \"\n            onChange={imageHandler}\n          />\n        </div>\n\n        <Button\n          value=\"POST\"\n          variant=\"contained\"\n          color=\"success\"\n          onClick={savePost}\n        ></Button>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}