{"ast":null,"code":"var _jsxFileName = \"/Users/abhinavkumar/Desktop/dbms/client/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport Axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { AppContext } from \"../App\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Modal from \"@mui/material/Modal\";\nimport EditForm from \"./EditForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  bgcolor: \"background.paper\",\n  border: \"2px solid #000\",\n  boxShadow: 24,\n  p: 4\n};\n\nfunction Posts() {\n  _s();\n\n  const {\n    user\n  } = useContext(AppContext);\n  const [posts, setPosts] = useState([]);\n  const id = user.id;\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n\n  const handleClose = () => setOpen(false);\n\n  const deletePost = postId => {\n    console.log(postId);\n    Axios.get(`http://localhost:3001/delete/post/${postId}`).then(response => {\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/posts/${id}`).then(response => {\n      setPosts(response.data);\n    });\n  });\n\n  const openEdit = () => {};\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.slice(0).reverse().map(post => /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: \"Quote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"blockquote\", {\n          className: \"blockquote mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: post.post_content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n            className: \"blockquote-footer\",\n            children: [\"Someone famous in\", \" \", /*#__PURE__*/_jsxDEV(\"cite\", {\n              title: \"Source Title\",\n              children: \"Source Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"error\",\n              onClick: deletePost.bind(this, post.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"success\",\n              onClick: handleOpen,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"modal-modal-title\",\n        \"aria-describedby\": \"modal-modal-description\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: style,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            id: \"modal-modal-title\",\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Text in a modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            id: \"modal-modal-description\",\n            sx: {\n              mt: 2\n            },\n            children: \"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this))\n  }, void 0, false);\n}\n\n_s(Posts, \"NMCT1fUMfFxxdJ4/0VBl+Cf4G2s=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["Axios","React","useContext","useEffect","useState","Card","AppContext","Button","Box","Typography","Modal","EditForm","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","Posts","user","posts","setPosts","id","open","setOpen","handleOpen","handleClose","deletePost","postId","console","log","get","then","response","catch","err","data","openEdit","slice","reverse","map","post","post_content","bind","mt"],"sources":["/Users/abhinavkumar/Desktop/dbms/client/src/components/Posts.js"],"sourcesContent":["import Axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { AppContext } from \"../App\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Modal from \"@mui/material/Modal\";\nimport EditForm from \"./EditForm\";\n\nconst style = {\n  position: \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  bgcolor: \"background.paper\",\n  border: \"2px solid #000\",\n  boxShadow: 24,\n  p: 4,\n};\n\nfunction Posts() {\n  const { user } = useContext(AppContext);\n  const [posts, setPosts] = useState([]);\n  const id = user.id;\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const deletePost = (postId) => {\n    console.log(postId);\n    Axios.get(`http://localhost:3001/delete/post/${postId}`)\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/posts/${id}`).then((response) => {\n      setPosts(response.data);\n    });\n  });\n\n  const openEdit = () => {};\n\n  return (\n    <>\n      {posts\n        .slice(0)\n        .reverse()\n        .map((post) => (\n          <Card key={post.id}>\n            <Card.Header>Quote</Card.Header>\n            <Card.Body>\n              <blockquote className=\"blockquote mb-0\">\n                <p>{post.post_content}</p>\n                <footer className=\"blockquote-footer\">\n                  Someone famous in{\" \"}\n                  <cite title=\"Source Title\">Source Title</cite>\n                </footer>\n                <div>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"error\"\n                    onClick={deletePost.bind(this, post.id)}\n                  >\n                    Delete\n                  </Button>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"success\"\n                    onClick={handleOpen}\n                  >\n                    Edit\n                  </Button>\n                </div>\n              </blockquote>\n            </Card.Body>\n            <Modal\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"modal-modal-title\"\n              aria-describedby=\"modal-modal-description\"\n            >\n              <Box sx={style}>\n                <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n                  Text in a modal\n                </Typography>\n                <Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\n                  Duis mollis, est non commodo luctus, nisi erat porttitor\n                  ligula.\n                </Typography>\n              </Box>\n            </Modal>\n          </Card>\n        ))}\n    </>\n  );\n}\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}